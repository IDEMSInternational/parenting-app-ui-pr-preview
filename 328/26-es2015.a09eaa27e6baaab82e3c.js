(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{yPrK:function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsPageModule",function(){return N});var i=n("SVse"),o=n("s7LF"),c=n("sZkV"),s=n("iInd"),r=n("JLHU"),l=n("Ii2O"),a=n("lti7"),u=n("90ve"),b=n("gcOT"),g=n("Tesu"),h=n("Qpa5"),m=n("qe0H"),S=n("zwQB"),f=n("8Y7J");function p(e,t){if(1&e){const e=f.Sb();f.Rb(0,"ion-toggle",2),f.Zb("ionChange",function(){f.qc(e);const t=f.cc();return t.toggleUserSetting(t.userSetting)}),f.Qb()}if(2&e){const e=f.cc();f.ic("checked","true"===e.userSetting.value)}}function v(e,t){if(1&e&&(f.Rb(0,"ion-select-option",5),f.Ac(1),f.Qb()),2&e){const e=t.$implicit;f.ic("value",e.value),f.Ab(1),f.Cc(" ",e.name," ")}}function y(e,t){if(1&e){const e=f.Sb();f.Rb(0,"ion-select",3),f.Zb("ionChange",function(t){f.qc(e);const n=f.cc();return n.selectSettingOption(n.userSetting,t.detail.value)}),f.yc(1,v,2,2,"ion-select-option",4),f.Qb()}if(2&e){const e=f.cc();f.ic("value",e.userSetting.value),f.Ab(1),f.ic("ngForOf",e.userSetting.options)}}let C=(()=>{class e{constructor(){this.onSettingChange=new f.o}toggleUserSetting(e){e.value=""+!("true"===e.value),this.onSettingChange.emit(e)}selectSettingOption(e,t){e.value=t,this.onSettingChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Gb({type:e,selectors:[["plh-user-setting"]],inputs:{userSetting:"userSetting"},outputs:{onSettingChange:"onSettingChange"},decls:5,vars:3,consts:[[3,"checked","ionChange",4,"ngIf"],["okText","Select","cancelText","Cancel",3,"value","ionChange",4,"ngIf"],[3,"checked","ionChange"],["okText","Select","cancelText","Cancel",3,"value","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(f.Rb(0,"ion-item"),f.Rb(1,"ion-label"),f.Ac(2),f.Qb(),f.yc(3,p,1,1,"ion-toggle",0),f.yc(4,y,2,2,"ion-select",1),f.Qb()),2&e&&(f.Ab(2),f.Bc(t.userSetting.name),f.Ab(1),f.ic("ngIf",!t.userSetting.options&&"boolean"===t.userSetting.type),f.Ab(1),f.ic("ngIf",t.userSetting.options))},directives:[c.m,c.n,i.l,c.B,c.b,c.w,c.J,i.k,c.x],styles:[""]}),e})();function d(e,t){if(1&e){const e=f.Sb();f.Rb(0,"plh-user-setting",7),f.Zb("onSettingChange",function(t){return f.qc(e),f.cc().onSettingChange(t)}),f.Qb()}2&e&&f.ic("userSetting",t.$implicit)}function A(e,t){if(1&e&&(f.Rb(0,"ion-select-option",8),f.Ac(1),f.Qb()),2&e){const e=t.$implicit;f.jc("value",e),f.Ab(1),f.Bc(e)}}function Q(e,t){if(1&e&&(f.Rb(0,"ion-select-option",8),f.Ac(1),f.Qb()),2&e){const e=t.$implicit;f.ic("value",e),f.Ab(1),f.Cc(" ",e," ")}}function w(e,t){if(1&e){const e=f.Sb();f.Rb(0,"ion-select",9),f.Zb("ionChange",function(t){return f.qc(e),f.cc().launchFlowByName(t.detail.value)}),f.yc(1,Q,2,2,"ion-select-option",2),f.Qb()}if(2&e){const e=f.cc();f.Ab(1),f.ic("ngForOf",e.flowNames)}}function R(e,t){if(1&e&&(f.Rb(0,"ion-select-option",8),f.Ac(1),f.Qb()),2&e){const e=t.$implicit;f.ic("value",e),f.Ab(1),f.Cc(" ",e," ")}}function T(e,t){if(1&e){const e=f.Sb();f.Rb(0,"plh-user-setting",7),f.Zb("onSettingChange",function(t){return f.qc(e),f.cc().onSettingChange(t)}),f.Qb()}2&e&&f.ic("userSetting",t.$implicit)}const k=function(){return["/theme-editor"]},F=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,c,s,r){this.localStorageService=e,this.router=t,this.themeService=n,this.surveyService=i,this.dbService=o,this.settingsService=c,this.offlineChatService=s,this.tourService=r,this.isNative=b.a.isNative,this.themeNames=[],this.userSettings=[],this.devOnlyUserSettings=[],this.flowNames=[],this.tipFlowNames=m.l.map(e=>e.flow_name),this.themeNames=this.themeService.getThemes().map(e=>e.name),this.currentThemeName=this.themeService.getCurrentTheme().name,this.settingsService.getAllUserSettings().subscribe(e=>{this.userSettings=e.filter(e=>b.a.isNative||!e.nativeOnly).filter(e=>!e.devOnly),this.devOnlyUserSettings=e.filter(e=>e.devOnly)}),this.offlineChatService.getFlowNames().then(e=>{this.flowNames=e})}onSettingChange(e){this.settingsService.setUserSetting(e.id,e.value)}openWelcomeFlow(){this.localStorageService.setBoolean("weclome_skipped",!1),this.localStorageService.setBoolean("weclome_finished",!1),this.router.navigateByUrl("/chat/Welcome_Intro")}selectThemeName(e){this.currentThemeName=e,this.themeService.setCurrentTheme(e)}openWelcomeSurvey(){this.surveyService.runSurvey("welcome")}navigateByUrl(e){this.router.navigateByUrl(e)}resetApp(){this.localStorageService.clear(),this.dbService.deleteDatabase().then(()=>{location.reload()})}launchFlowByName(e){this.router.navigateByUrl("/chat/"+e)}launchTipFlowByName(e){this.router.navigateByUrl("/tips/"+e)}startTour(){this.tourService.startTour()}}return e.\u0275fac=function(t){return new(t||e)(f.Mb(l.a),f.Mb(s.h),f.Mb(a.a),f.Mb(u.a),f.Mb(r.a),f.Mb(g.a),f.Mb(h.a),f.Mb(S.a))},e.\u0275cmp=f.Gb({type:e,selectors:[["plh-settings"]],decls:38,vars:8,consts:[[3,"userSetting","onSettingChange",4,"ngFor","ngForOf"],["okText","Okay","cancelText","Dismiss",3,"value","ionChange"],[3,"value",4,"ngFor","ngForOf"],["okText","Launch Flow","cancelText","Cancel",3,"ionChange",4,"ngIf"],["okText","Open Tip","cancelText","Cancel",3,"ionChange"],[3,"click"],[3,"routerLink"],[3,"userSetting","onSettingChange"],[3,"value"],["okText","Launch Flow","cancelText","Cancel",3,"ionChange"]],template:function(e,t){1&e&&(f.Rb(0,"ion-header"),f.Rb(1,"ion-toolbar"),f.Rb(2,"ion-title"),f.Ac(3,"Settings"),f.Qb(),f.Qb(),f.Qb(),f.Rb(4,"ion-content"),f.yc(5,d,1,1,"plh-user-setting",0),f.Rb(6,"ion-item"),f.Rb(7,"ion-label"),f.Ac(8,"Theme"),f.Qb(),f.Rb(9,"ion-select",1),f.Zb("ionChange",function(e){return t.selectThemeName(e.detail.value)}),f.yc(10,A,2,2,"ion-select-option",2),f.Qb(),f.Qb(),f.Rb(11,"ion-list-header"),f.Ac(12,"Development Settings"),f.Qb(),f.Rb(13,"ion-item"),f.Rb(14,"ion-label"),f.Ac(15,"Launch Flow"),f.Qb(),f.yc(16,w,2,1,"ion-select",3),f.Qb(),f.Rb(17,"ion-item"),f.Rb(18,"ion-label"),f.Ac(19,"Open Tip"),f.Qb(),f.Rb(20,"ion-select",4),f.Zb("ionChange",function(e){return t.launchTipFlowByName(e.detail.value)}),f.yc(21,R,2,2,"ion-select-option",2),f.Qb(),f.Qb(),f.yc(22,T,1,1,"plh-user-setting",0),f.Rb(23,"ion-item"),f.Rb(24,"ion-button",5),f.Zb("click",function(){return t.navigateByUrl("/chat/example_main")}),f.Ac(25,"Open Testing Flow"),f.Qb(),f.Qb(),f.Rb(26,"ion-item"),f.Rb(27,"ion-button",5),f.Zb("click",function(){return t.openWelcomeSurvey()}),f.Ac(28,"Open Sample Survey"),f.Qb(),f.Qb(),f.Rb(29,"ion-item"),f.Rb(30,"ion-button",5),f.Zb("click",function(){return t.resetApp()}),f.Ac(31,"Reset App"),f.Qb(),f.Qb(),f.Rb(32,"ion-item"),f.Rb(33,"ion-label",6),f.Ac(34,"Theme Editor"),f.Qb(),f.Qb(),f.Rb(35,"ion-item"),f.Rb(36,"ion-button",5),f.Zb("click",function(){return t.startTour()}),f.Ac(37,"Start Tour"),f.Qb(),f.Qb(),f.Qb()),2&e&&(f.Ab(5),f.ic("ngForOf",t.userSettings),f.Ab(4),f.ic("value",t.currentThemeName),f.Ab(1),f.ic("ngForOf",t.themeNames),f.Ab(6),f.ic("ngIf",(null==t.flowNames?null:t.flowNames.length)>0),f.Ab(5),f.ic("ngForOf",t.tipFlowNames),f.Ab(1),f.ic("ngForOf",t.devOnlyUserSettings),f.Ab(11),f.ic("routerLink",f.kc(7,k)))},directives:[c.k,c.C,c.A,c.j,i.k,c.m,c.n,c.w,c.J,c.p,i.l,c.d,c.I,s.i,C,c.x],styles:[""]}),e})()}];let O=(()=>{class e{}return e.\u0275mod=f.Kb({type:e}),e.\u0275inj=f.Jb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(F)],s.j]}),e})(),N=(()=>{class e{}return e.\u0275mod=f.Kb({type:e}),e.\u0275inj=f.Jb({factory:function(t){return new(t||e)},imports:[[i.c,o.b,c.D,O]]}),e})()}}]);