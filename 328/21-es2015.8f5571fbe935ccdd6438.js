(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{av1H:function(t,n,e){"use strict";e.r(n),e.d(n,"ModulePageModule",function(){return G});var o=e("SVse"),i=e("s7LF"),s=e("sZkV"),c=e("iInd"),r=e("qe0H"),l=e("8Y7J");let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["module-list-flow-button"]],decls:2,vars:0,template:function(t,n){1&t&&(l.Rb(0,"div"),l.Ac(1,"Button"),l.Qb())},styles:["[_nghost-%COMP%]{--module-steps-margin:20px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:var(--module-steps-margin)}"]}),t})(),u=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["module-list-flow-description"]],inputs:{row:"row",flow:"flow"},decls:2,vars:1,template:function(t,n){1&t&&(l.Rb(0,"p"),l.Ac(1),l.Qb()),2&t&&(l.Ab(1),l.Bc(n.row.text))},styles:["[_nghost-%COMP%]{--module-steps-margin:20px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:var(--module-steps-margin)}"]}),t})(),p=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["module-list-flow-main-image"]],inputs:{row:"row",flow:"flow"},decls:2,vars:1,consts:[[1,"image-spacer"],[3,"src"]],template:function(t,n){1&t&&(l.Rb(0,"div",0),l.Nb(1,"img",1),l.Qb()),2&t&&(l.Ab(1),l.ic("src",n.row.media_asset,l.sc))},styles:["[_nghost-%COMP%]{--module-steps-margin:20px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:var(--module-steps-margin)}","img[_ngcontent-%COMP%] {\n        height: 140px;\n        margin: auto;\n        display: block;\n        position: relative;\n        bottom: -25px;\n      }\n\n      .image-spacer[_ngcontent-%COMP%] {\n        text-align: center;\n        background: var(--ion-color-primary-lighter);\n        margin-top: -25px;\n      }\n\n      @media only screen and (max-width: 360px) {\n        img[_ngcontent-%COMP%] {\n          height: 100px;\n        }\n      }"]}),t})(),m=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["module-list-flow-step-intro"]],inputs:{row:"row",flow:"flow"},decls:2,vars:1,template:function(t,n){1&t&&(l.Rb(0,"p"),l.Ac(1),l.Qb()),2&t&&(l.Ab(1),l.Bc(n.row.text))},styles:["[_nghost-%COMP%]{--module-steps-margin:20px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:var(--module-steps-margin)}"]}),t})();var d=e("mrSG"),f=e("Evy+");function g(t,n){1&t&&l.Nb(0,"ion-icon",6)}function w(t,n){1&t&&l.Nb(0,"ion-icon",7)}function b(t,n){1&t&&l.Nb(0,"ion-icon",8)}let h=(()=>{class t{constructor(t,n){this.taskService=t,this.router=n,this.isLocked=!0,this.isCompleted=!1}ngOnInit(){this.row.task_id&&(this.evaluateTaskMeta(this.row.task_id),this._subscribeToRouteChanges())}ngOnDestroy(){this.subscription$&&this.subscription$.unsubscribe()}evaluateTaskMeta(t){return Object(d.a)(this,void 0,void 0,function*(){this.isCompleted=yield this.taskService.evaluateTaskCompleted(t),this.isLocked=yield this.taskService.evaluateTasklocked(t)})}handleItemClicked(){return Object(d.a)(this,void 0,void 0,function*(){this.row.task_id&&(yield this.taskService.startTask(this.row.task_id))})}_subscribeToRouteChanges(){const t=this.router.url;this.subscription$=this.router.events.subscribe(n=>Object(d.a)(this,void 0,void 0,function*(){n instanceof c.c&&n.url===t&&(yield this.evaluateTaskMeta(this.row.task_id))}))}}return t.\u0275fac=function(n){return new(n||t)(l.Mb(f.a),l.Mb(c.h))},t.\u0275cmp=l.Gb({type:t,selectors:[["module-list-flow-step-item"]],inputs:{row:"row",flow:"flow"},decls:7,vars:7,consts:[[1,"step-item-container"],[1,"step-item-checkbox"],["name","checkmark-outline",4,"ngIf"],["name","",4,"ngIf"],["name","lock-closed-outline",4,"ngIf"],[1,"step-item-button",3,"click"],["name","checkmark-outline"],["name",""],["name","lock-closed-outline"]],template:function(t,n){1&t&&(l.Rb(0,"div",0),l.Rb(1,"div",1),l.yc(2,g,1,0,"ion-icon",2),l.yc(3,w,1,0,"ion-icon",3),l.yc(4,b,1,0,"ion-icon",4),l.Qb(),l.Rb(5,"div",5),l.Zb("click",function(){return n.handleItemClicked()}),l.Ac(6),l.Qb(),l.Qb()),2&t&&(l.Bb("data-locked",n.isLocked)("data-completed",n.isCompleted),l.Ab(2),l.ic("ngIf",n.isCompleted),l.Ab(1),l.ic("ngIf",!n.isCompleted&&!n.isLocked),l.Ab(1),l.ic("ngIf",!n.isCompleted&&n.isLocked),l.Ab(1),l.Bb("data-locked",n.isLocked),l.Ab(1),l.Cc(" ",n.row.text," "))},directives:[o.l,s.l],styles:["[_nghost-%COMP%]{--module-steps-margin:20px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:var(--module-steps-margin)}",".step-item-container[_ngcontent-%COMP%]{margin:var(--module-steps-margin);display:flex;flex-direction:row;align-items:center}.step-item-checkbox[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:42px;margin-right:20px;display:flex;justify-content:center;align-items:center}.step-item-button[_ngcontent-%COMP%]{flex:1;padding:10px;border-radius:20px}.step-item-button[_ngcontent-%COMP%], .step-item-checkbox[_ngcontent-%COMP%]{color:var(--ion-color-primary);background:#fff;border:1px solid var(--ion-color-primary)}.current-step[_ngcontent-%COMP%]{font-weight:700}.step-item-container[data-completed=true][_ngcontent-%COMP%]   .step-item-button[_ngcontent-%COMP%], .step-item-container[data-completed=true][_ngcontent-%COMP%]   .step-item-checkbox[_ngcontent-%COMP%]{background:var(--ion-color-primary-light)}"]}),t})();function v(t,n){if(1&t&&l.Nb(0,"module-list-flow-step-intro",2),2&t){const t=l.cc().$implicit;l.ic("row",t)}}function C(t,n){if(1&t&&l.Nb(0,"module-list-flow-step-item",2),2&t){const t=l.cc().$implicit;l.ic("row",t)}}function y(t,n){if(1&t&&(l.Rb(0,"div"),l.yc(1,v,1,1,"module-list-flow-step-intro",1),l.yc(2,C,1,1,"module-list-flow-step-item",1),l.Qb()),2&t){const t=n.$implicit;l.Ab(1),l.ic("ngIf","step_intro"===t.type),l.Ab(1),l.ic("ngIf","step_item"===t.type)}}function O(t,n){}const _={description:u,main_image:p,step_group:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["module-list-flow-step-group"]],inputs:{row:"row",flow:"flow"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"row",4,"ngIf"],[3,"row"]],template:function(t,n){1&t&&l.yc(0,y,3,2,"div",0),2&t&&l.ic("ngForOf",n.row.rows)},directives:[o.k,o.l,m,h],styles:["[_nghost-%COMP%]{--module-steps-margin:20px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:var(--module-steps-margin)}"]}),t})(),step_intro:m,step_item:h,title:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["module-list-flow-title"]],inputs:{row:"row",flow:"flow"},decls:2,vars:1,template:function(t,n){1&t&&(l.Rb(0,"h1"),l.Ac(1),l.Qb()),2&t&&(l.Ab(1),l.Bc(n.row.text))},styles:["[_nghost-%COMP%]{--module-steps-margin:20px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:var(--module-steps-margin)}"]}),t})(),button:a};let k=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(n){return new(n||t)(l.Mb(l.Q))},t.\u0275dir=l.Hb({type:t,selectors:[["","appFlowComponentHost",""]]}),t})(),P=(()=>{class t{constructor(t){this.componentFactoryResolver=t,this.flowComponents=_}ngOnInit(){const t=this.componentFactoryResolver.resolveComponentFactory(this.flowComponents[this.row.type]),n=this.flowComponentHost.viewContainerRef;n.clear();const e=n.createComponent(t);e.instance.row=this.row,e.instance.flow=this.flow}}return t.\u0275fac=function(n){return new(n||t)(l.Mb(l.k))},t.\u0275cmp=l.Gb({type:t,selectors:[["plh-module-page-flow-component"]],viewQuery:function(t,n){if(1&t&&l.vc(k,!0),2&t){let t;l.nc(t=l.ac())&&(n.flowComponentHost=t.first)}},inputs:{row:"row",flow:"flow"},decls:1,vars:0,consts:[["appFlowComponentHost",""]],template:function(t,n){1&t&&l.yc(0,O,0,0,"ng-template",0)},directives:[k],encapsulation:2}),t})(),M=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(n){return new(n||t)},imports:[[o.c,i.b,s.D]]}),t})();function x(t,n){if(1&t&&(l.Pb(0),l.Nb(1,"plh-module-page-flow-component",2),l.Ob()),2&t){const t=n.$implicit,e=l.cc();l.Ab(1),l.ic("row",t)("flow",e.modulePageFlow)}}let I=(()=>{class t{constructor(){}ngOnInit(){console.log("modulePageRow",this.modulePageFlow)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["plh-module-focus-skin"]],inputs:{modulePageFlow:"modulePageFlow"},decls:2,vars:1,consts:[[1,"main-container"],[4,"ngFor","ngForOf"],[3,"row","flow"]],template:function(t,n){1&t&&(l.Rb(0,"div",0),l.yc(1,x,2,2,"ng-container",1),l.Qb()),2&t&&(l.Ab(1),l.ic("ngForOf",n.modulePageFlow.rows))},directives:[o.k,P],styles:["[_nghost-%COMP%]{display:contents}.main-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:auto;background-color:#fff}"]}),t})();function F(t,n){if(1&t&&l.Nb(0,"plh-module-focus-skin",6),2&t){const t=l.cc(2);l.ic("modulePageFlow",t.modulePageFlow)}}function A(t,n){if(1&t&&(l.Rb(0,"div",7),l.Rb(1,"span",8),l.Ac(2),l.Qb(),l.Rb(3,"span",9),l.Ac(4,"not defined"),l.Qb(),l.Qb()),2&t){const t=l.cc(2);l.Ab(2),l.Bc(t.appSkin)}}function R(t,n){if(1&t&&(l.Rb(0,"div",2),l.Rb(1,"div",3),l.yc(2,F,1,1,"plh-module-focus-skin",4),l.yc(3,A,5,1,"div",5),l.Qb(),l.Qb()),2&t){const t=l.cc();l.Ab(1),l.ic("ngSwitch",t.appSkin),l.Ab(1),l.ic("ngSwitchCase","MODULE_FOCUS_SKIN")}}function Q(t,n){}const S=[{path:":flow_name",component:(()=>{class t{constructor(t){this.route=t,this.dataLoaded=!1,this.appSkin="MODULE_FOCUS_SKIN"}ngOnInit(){const{flow_name:t}=this.route.snapshot.params,n=r.g.find(n=>n.flow_name===t);if(!n)throw new Error(`Module Page Flow Not Found: ${t}`);this.modulePageFlow=n,console.log("module page flow",this.modulePageFlow),this.dataLoaded=!0}}return t.\u0275fac=function(n){return new(n||t)(l.Mb(c.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["plh-module-page"]],decls:4,vars:2,consts:[["class","flex-column-container",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"flex-column-container"],[1,"flex-column-container",3,"ngSwitch"],[3,"modulePageFlow",4,"ngSwitchCase"],["class","content-error",4,"ngSwitchDefault"],[3,"modulePageFlow"],[1,"content-error"],[1,"content-error-variable"],[1,"content-error-message"]],template:function(t,n){if(1&t&&(l.Rb(0,"ion-content"),l.yc(1,R,4,2,"div",0),l.yc(2,Q,0,0,"ng-template",null,1,l.zc),l.Qb()),2&t){const t=l.oc(3);l.Ab(1),l.ic("ngIf",n.dataLoaded)("ngIfElse",t)}},directives:[s.j,o.l,o.n,o.o,o.p,I],styles:[""]}),t})()}];let L=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(n){return new(n||t)},imports:[[c.j.forChild(S)],c.j]}),t})(),G=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(n){return new(n||t)},imports:[[o.c,i.b,s.D,L,M]]}),t})()}}]);